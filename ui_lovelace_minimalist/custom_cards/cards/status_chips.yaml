status_chips:
  template: ulm_language_variables

  variables:
    label: null
    solo_label: null
    area: >
      [[[ 
        const path = document.URL.split('?')[0].split('/').pop().replace('-', '_');
        return path === 'home' ? '*' : path;
      ]]]

  styles:
    card:
      - background: none
      - padding: 0px
      - cursor: "default"
      - "--mdc-ripple-press-opacity": 0 # prevent click animation
    grid:
      - grid-template-areas: >
          [[[
            if(variables.area === "*"){
              return "'title . .' '. chips .'";
            }
            return "'chips'";
          ]]]
      - grid-template-columns: >
          [[[
            if(variables.area === "*"){
              return "repeat(3, 1fr)";
            }
            return "1fr";
          ]]]
    custom_fields:
      title:
        - justify-self: start
      chips:
        - justify-self: center

  state:
    - operator: "template"
      value: '[[[ return variables.area !== "*"; ]]]'
      styles:
        custom_fields:
          title:
            - display: none

  custom_fields:
    title:
      card:
        type: custom:button-card
        template: card_title
        label: Status Updates

    chips:
      card:
        type: custom:mod-card
        style:
          hui-horizontal-stack-card$: |
            #root { 
              --stack-card-gap: 0;
            }
        card:
          type: custom:auto-entities
          card:
            type: horizontal-stack
          card_param: cards
          filter:
            include:
              - label: Status
                options:
                  type: custom:button-card
                  template: chip_icon_state_if_value
                  variables:
                    optional: '[[[ return variables.area === "*"; ]]]'
                area: '[[[ return variables.area; ]]]'
              - label 1: '[[[ return variables.label; ]]]'
                label 2: Status
                options:
                  type: custom:button-card
                  template: chip_icon_state_if_value
              - label: '[[[ return variables.solo_label; ]]]'
                options:
                  type: custom:button-card
                  template: chip_icon_state_if_value
                

          sort:
            method: state
            numeric: true
