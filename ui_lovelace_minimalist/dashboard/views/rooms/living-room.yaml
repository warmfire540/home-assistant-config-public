title: "Living Room"
path: "living-room"
subview: true
type: custom:grid-layout
layout:
  grid-template-areas: |
    "header status ."
    "devices vacuum health"
    "sensors . ."
  mediaquery:
    # portrait monitor
    "only screen and (min-width: 769px) and (max-width: 1400px)":
      grid-template-areas: |
        "header status"
        "devices vacuum"
        "health sensors"
    # Smartphones
    "only screen and (max-width: 768px)":
      grid-template-areas: |
        "header"
        "status"
        "devices"
        "vacuum"
        "sensors"
        "health"
cards:
  - type: custom:decluttering-card
    template: room_header
    view_layout:
      grid-area: header
    variables:
      - sensor_prefix: living_room
      - room_name: Living Room

  #################
  # STATUS CHIPS
  #################
  - type: custom:mod-card
    view_layout:
      grid-area: status
    style:
      hui-horizontal-stack-card$: |
        #root { 
          justify-content: center;
        }
    card:
      type: horizontal-stack
      cards:
        - type: custom:button-card
          template: chip_icon_state_if_value
          variables:
            entity: binary_sensor.rolo_error
        - type: custom:button-card
          template: chip_icon_state_if_value
          variables:
            entity: input_boolean.air_filters_need_changed

  #################
  # DEVICES
  #################
  - type: vertical-stack
    view_layout:
      grid-area: devices
    cards:
      - type: "custom:button-card"
        template: card_title
        label: Devices

      - type: "custom:button-card"
        template: card_light
        entity: light.living_room_light
        variables:
          ulm_card_light_enable_slider: true
          ulm_card_light_enable_collapse: true

      - type: custom:decluttering-card
        template: cover
        variables:
          - sensor_prefix: living_room
          - fave_percent: 90

      - type: "custom:button-card"
        template: card_thermostat
        entity: climate.living_room
        variables:
          ulm_card_thermostat_enable_collapse: true
          ulm_card_thermostat_enable_controls: true
          ulm_card_thermostat_enable_hvac_modes: true
          ulm_card_thermostat_enable_popup: true
          ulm_card_thermostat_enable_background_color: true

  - type: vertical-stack
    view_layout:
      grid-area: vacuum
    cards:
      - type: "custom:button-card"
        template: card_title
        label: Vacuum

      - type: custom:xiaomi-vacuum-map-card
        entity: vacuum.rolo
        map_source:
          camera: camera.rolo_cleaning_map
        calibration_source:
          platform: Neato
        vacuum_platform: Neato
        map_locked: true
        append_tiles: true
        append_icons: true
        tiles:
          - tile_id: state
            entity: vacuum.rolo
            label: State
            icon: mdi:map-marker
          - tile_id: schedule
            entity: switch.rolo_schedule
            label: Schedule
            icon: mdi:book-variant
        icons:
          - icon_id: dismiss-alert
            entity: button.rolo_dismiss_alert
            icon: mdi:button-pointer
            tooltip: Dismiss alert
          - icon_id: dismiss-alert
            entity: switch.rolo_schedule
            icon: mdi:book-variant
            tooltip: Rolo schedule

  #################
  # SENSORS
  #################
  - type: vertical-stack
    view_layout:
      grid-area: sensors
    cards:
      - type: "custom:button-card"
        template: card_title
        label: Sensors

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: card_binary_sensor
            variables:
              ulm_card_binary_sensor_alert: true
              ulm_card_binary_sensor_name: Smoke
            entity: binary_sensor.living_room_smoke_sensor_smoke_detected
          - type: "custom:button-card"
            template: card_binary_sensor
            variables:
              ulm_card_binary_sensor_alert: true
              ulm_card_binary_sensor_name: Carbon Monoxide
            entity: binary_sensor.living_room_smoke_sensor_carbon_monoxide_detected

      - type: "custom:button-card"
        template: card_input_boolean
        entity: input_boolean.air_filters_need_changed
        variables:
          ulm_card_input_boolean_force_background_color: true
          ulm_card_input_boolean_color: red
          
      - type: "custom:button-card"
        template: card_graph
        entity: sensor.living_room_15_1min
        variables:
          ulm_card_graph_color: "var(--google-yellow)"
          ulm_card_graph_entity: sensor.living_room_15_1min
          ulm_card_graph_name: Electricity 1 min

  #################
  # DEVICE HEALTH
  #################
  - type: vertical-stack
    view_layout:
      grid-area: health
    cards:
      - type: "custom:button-card"
        template: card_title
        label: Device Health

      - type: custom:decluttering-card
        template: z_wave_smoke_sensor
        variables:
          - sensor_prefix: living_room
          - node_number: 19

      - type: custom:decluttering-card
        template: z_wave_single_relay
        variables:
          - sensor_prefix: living_room_light
          - sensor_domain: light
          - name: Light
          - node_number: 42

      - type: custom:decluttering-card
        template: eero
        variables:
          - location: living_room
