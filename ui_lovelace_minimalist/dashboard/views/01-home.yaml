title: Home
path: home
type: custom:grid-layout
layout:
  grid-template-areas: |
    "welcome people"
    "welcome status"
    "rooms rooms"
  mediaquery:
    "(max-width: 768px)":
      grid-template-areas: |
        "welcome"
        "people"
        "status"
        "rooms"
cards:
  #################
  # WELCOME
  #################
  - type: custom:button-card
    template: poat_welcome
    view_layout:
      grid-area: welcome

  #################
  # PEOPLE
  #################
  - type: horizontal-stack
    view_layout:
      grid-area: people
    cards:
      - type: custom:button-card
        template: poat_person_card
        variables:
          person: poat
          phone: iphone_14_pro_max
      - type: custom:button-card
        template: poat_person_card
        variables:
          person: gina
          phone: iphone_13_mini

  #################
  # STATUS CHIPS
  #################
  - type: vertical-stack
    view_layout:
      grid-area: status
    cards:
      - type: custom:button-card
        template: card_title
        label: Status Updates

      - type: custom:button-card
        template: status_chips

  #############
  # ROOM CARDS
  #############
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      # desktop screen
      grid-template-columns: repeat(6, 1fr)
      grid-template-rows: auto
      grid-template-areas: |
        "label label label label label label"
        "living dining office kitchen bedroom bath"
        "guest spare garage attic shed ."
      mediaquery:
        # portrait monitor
        "only screen and (min-width: 769px) and (max-width: 1400px)":
          grid-template-columns: repeat(4, 1fr)
          grid-template-areas: |
            "label label label label"
            "living dining office kitchen "
            "bedroom bath guest spare"
            "garage attic shed ."
        # Smartphones
        "only screen and (max-width: 768px)":
          grid-template-columns: 1fr 1fr
          grid-template-areas: |
            "label label"
            "living dining"
            "office kitchen"
            "bedroom bath"
            "guest spare"
            "garage attic"
            "shed ."
    view_layout:
      grid-area: rooms
    cards:
      - type: custom:button-card
        template: card_title
        name: Rooms
        variables:
          grid-area: label

      #################
      # LIVING ROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:sofa
        view_layout:
          grid-area: living
        variables:
          affix: living_room
          problem_entities:
            - binary_sensor.rolo_error
            - binary_sensor.living_room_smoke_sensor_smoke_detected
            - binary_sensor.living_room_smoke_sensor_carbon_monoxide_detected
            - input_boolean.air_filters_need_changed
          entity_3:
            entity_id: climate.living_room
            templates:
              - yellow_on
              - climate_icon

      #################
      # DINING ROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:glass-cocktail
        view_layout:
          grid-area: dining
        variables:
          affix: dining_room

      #################
      # OFFICE
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:controller
        view_layout:
          grid-area: office
        variables:
          affix: office
          problem_entities:
            - binary_sensor.office_smoke_sensor_smoke_detected
            - binary_sensor.office_smoke_sensor_carbon_monoxide_detected
            - sensor.dead_z_wave_nodes
            - sensor.printer_left_on
          entity_3:
            entity_id: binary_sensor.poat_rgb_connectivity
            templates:
              - blue_on

      #################
      # KITCHEN
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:countertop-outline
        view_layout:
          grid-area: kitchen
        variables:
          affix: kitchen
          problem_entities:
            - group.cat_water_status
            - binary_sensor.dishwasher_leak_sensor
            - input_boolean.dishwasher_needs_cleaned
          entity_2:
            entity_id: switch.under_cabinet_lights
            templates:
              - yellow_on
          entity_3:
            entity_id: light.dinette_light
            templates:
              - yellow_on
          entity_4:
            entity_id: switch.dinette_fan
            templates:
              - blue_on

      #################
      # MASTER BEDROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:bed
        view_layout:
          grid-area: bedroom
        variables:
          affix: master_bedroom

      #################
      # MASTER BATHROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:shower-head
        view_layout:
          grid-area: bath
        variables:
          affix: master_bath
          entity_3:
            entity_id: switch.master_bath_shower_light
            templates:
              - yellow_on

      #################
      # GUEST ROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:desk
        view_layout:
          grid-area: guest
        variables:
          affix: guest_bedroom

      #################
      # GUEST BATHROOM
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:shower
        view_layout:
          grid-area: spare
        variables:
          affix: guest_bath
          problem_entities:
            - group.cat_food_status

      #################
      # GARAGE
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:garage
        view_layout:
          grid-area: garage
        variables:
          affix: garage
          temperature_threshold: 90
          problem_entities:
            - binary_sensor.water_heater_leak_sensor
            - binary_sensor.strong_boi_error
            - binary_sensor.garage_door_tilt_window_door_is_open
            - binary_sensor.dryer_door_sensor_window_door_is_open
          entity_1:
            entity_id: binary_sensor.garage_door_tilt_window_door_is_open
            templates:
              - red_on
              - green_off
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.garage_opener
          entity_2:
            entity_id: switch.garage_opener_plug
            templates:
              - green_on
              - red_off
          entity_3:
            entity_id: input_boolean.washing_machine_on
            templates:
              - blue_on
          entity_4:
            entity_id: input_boolean.dryer_on
            templates:
              - blue_on

      #################
      # ATTIC
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:home-roof
        view_layout:
          grid-area: attic
        variables:
          affix: attic
          temperature_threshold: 100
          problem_entities:
            - binary_sensor.ac_pan_leak_sensor
          entity_1:
            entity_id: switch.water_softener_plug
            templates:
              - green_on
              - red_off

      #################
      # SHED
      #################
      - type: custom:button-card
        template:
          - room_summary
        icon: mdi:greenhouse
        view_layout:
          grid-area: shed
        variables:
          affix: shed
          temperature_threshold: 90
          humidity_threshold: 70
          entity_1:
            entity_id: binary_sensor.shed_door_sensor_window_door_is_open
            templates:
              - red_on
