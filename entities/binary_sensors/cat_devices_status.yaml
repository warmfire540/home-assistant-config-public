#####
# Cat Devices - Binary Sensors
# Created Binary Sensors out of device attributes
#####

platform: template
sensors:

  cat_battery_problem:
    friendly_name: "Cat Battery Problem"
    entity_id: sensor.cat_noms_battery_status
    value_template: "{{ is_state('sensor.cat_noms_battery_status', 'unavailable') }}"
    unique_id: d2734d50-f3a4-4aa6-84cc-87e8bb1ab28a
    device_class: problem
    icon_template: >
          mdi:battery{{'-alert-variant' if is_state('sensor.cat_noms_battery_status','unavailable')}}

  cat_desicant_problem:
    friendly_name: "Cat Desicant Problem"
    entity_id: sensor.cat_noms_desiccant_days_remaining
    value_template: "{{ is_state('sensor.cat_noms_battery_status', '0') }}"
    unique_id: ac8a5b14-08c3-4cd5-a754-403aa3f22b44
    device_class: problem
    icon_template: mdi:air-filter

  cat_filter_problem:
    friendly_name: "Cat Filter Problem"
    entity_id: sensor.cat_noms_desiccant_days_remaining
    value_template: "{{ is_state('sensor.pet_thirst_filter', '0') }}"
    unique_id: 42fcc316-0ec8-472c-b8ad-979016188d6e
    device_class: problem
    icon_template: mdi:filter
